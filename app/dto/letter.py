from pydantic import BaseModel, Field

class LetterRequest(BaseModel):
    chat_content: str = Field(
        ...,
        description="대화 내용 (줄바꿈은 \\n으로 구분)",
        example=(
            "사용자: 안녕하세요. 사이버 범죄 피해를 입어서 신고하려고 합니다.\n"
            "챗봇: 네, 어떤 종류의 범죄 피해를 입으셨나요?\n"
            "사용자: 중고거래 사기를 당했어요. ○○마켓에서 맥북을 구매하려했는데, 70만원을 보냈는데 물건을 안 보내주네요.\n"
            "챗봇: 자세한 내용을 알려주셔서 감사합니다. 거래는 언제 하셨나요?\n"
            "사용자: 2024년 3월 15일 오후 2시쯤이요. 상대방 계좌는 ○○은행 123-456-789이고, 아이디는 'seller123'이에요.\n"
            "챗봇: 혹시 대화 내용이나 거래 내역 캡처는 보관하고 계신가요?\n"
            "사용자: 네, 대화 내용 캡처랑 계좌이체 내역 다 있어요."
        )
    )

class LetterResponse(BaseModel):
    content: str = Field(
        ...,
        description="생성된 진정서 내용",
        example=(
            "[진 정 서]\n"
            "접수기관: ○○경찰서(또는 ○○지방경찰청 사이버수사대)\n\n"
            "신청인(피해자)\n"
            "    성명: (대화에서 추출 불가)\n"
            "    주민등록번호(또는 생년월일): 미상\n"
            "    주소: 미상\n"
            "    연락처: 미상\n\n"
            "피진정인(피의자)\n"
            "    성명(또는 닉네임/아이디): seller123\n"
            "    아이디/사이트명: ○○마켓\n"
            "    기타 가능한 신원정보 및 특이사항: ○○은행 계좌번호 123-456-789\n\n"
            "진정 내용\n"
            "    사건 유형 정보\n"
            "    범죄 유형: 사이버사기\n"
            "    세부 유형: 중고거래 사기\n\n"
            "상세 피해 상황\n"
            "    피해장소: ○○마켓 플랫폼\n"
            "    진정취지: 온라인 중고거래 사기 피해에 대한 수사 및 피해 구제 요청\n"
            "    피해상황: 맥북 구매 대금 70만원을 송금하였으나 물품 미발송\n"
            "    피해 발생 일시: 2024년 3월 15일 14시경\n"
            "    피해 발생 경로: ○○마켓 플랫폼 내 거래\n"
            "    해당 행위로 인한 피해: 금전적 피해 70만원\n"
            "    확보 증거 자료: 플랫폼 대화 내용 캡처, 계좌이체 증빙자료\n\n"
            "결론: 위와 같이 온라인 중고거래 사기 피해가 발생하여 수사를 요청하오니 철저히 조사하여 주시기 바랍니다.\n\n"
            "2024년 3월 20일\n"
            "신청인: ○○○ (서명 또는 인)"
        )
    ) 